<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
</head>

<body>
<h2>Names</h2>

<p>
Up: <a href=".">Learn</a>,
Prev: <a href="maths">Maths</a>,
Next: <a href="layers">Layers</a>.
</p>

<br></br>

<h1>Names, associated</h1>

<p>
A common feature in Goat programs,
which we will learn about in this tutorial,
are <em>tuples</em>,
where a set of association are made between names and code definitions.
Their usage is perhaps best demonstrated with an exercise.
Let's start with the Goat Pen below.
</p>

<textarea class="codebox" style="min-height: 100px; width: 95%"></textarea>

<p>
Let's imagine we have a two-dimensional co-ordinate that we want to inspect the y-axis component of. In Goat we can write some code like the following.
</p>

<pre>
myPoint = (.x : 2, .y : 4);
.inspect = myPoint.y;
</pre>

<p>
As usual, I'll ask you to type the above code block into the Goat pen and run it. 
You should see the following.
</p>

<pre>
4.0
</pre>


<h4>Creating tuples</h4> 

<p>
The right hand side of the <code>myPoint</code> assignment is a <em>tuple</em>.
This tuple associates the names <code>x</code> and <code>y</code> to numeric values representing the point's x- and y- co-ordinates.
The following diagram of the first line highlights the syntax for "declaring" a tuple.
<pre>
1 | myPoint = (.x : 2, .y : 4);
              ^      ^       ^
              1^^^^^^3 ^^^^^^1
               2       2
</pre>
<ol>
<li>
Tuple declarations start and end with a pair of parentheses <code>()</code>.
</li>
<li>
A tuple declaration involves a sequence of <em>associations</em>.
Associations use a colon symbol <code>:</code> to separate a left-hand side name and a right-hand side definition.
Each name of a association must be prefixed with <code>.</code>.
(We will see the reason for this in the next section.)
</li>
<li>
Associations are terminated by a comma symbol <code>,</code>.
Terminating the last definition is optional.
</li>
</ol>
</p>

<h4>Using tuples</h4>

<p>
In definition of <code>inspect</code> on the second line of our program,
we see how to access a component of a tuple â€“
the tuple definition represented by <code>myPoint</code> is followed by the same <code>.y</code> syntax used in the definition.
We have seen this evaluates to the definition of the "y" component in the <code>myPoint</code> tuple, 4.0.
In Goat, names defined with the <code>.</code> prefix within a tuple are able to be accessed in this manner,
and are called "components".
</p>


<h4>Missing names</h4>

<p>
It is an error to access a name that is not associated in the tuple.
To see this let's modify our program above so that we instead access a name "z" on <code>myPoint</code>.
Make the following change to the second line of our program in the Goat pen above.
<pre>
.inspect = myPoint.z;
</pre>
After running, you should see the following printed below the box.
<pre>
error: component missing: "z"
</pre>
</p>

<script src="../script/setup-goat-web.js"></script>
<script src="../script/goat-web.js"></script>
</body>
</html>
